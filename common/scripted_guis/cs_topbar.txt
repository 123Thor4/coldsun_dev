scripted_gui = {
	extra_topbar = {
		context_type = player_context
		
		window_name = "extraoptions"
		
		visible = {
			always = yes
		}
		
		effects = {
			extraoptions_button_click = {
				set_variable = {
					extra_show = 1
				}
			}
		}
	}
	
	countryextraoptionsview = {
		context_type = player_context
		
		window_name = "countryextraoptionsview"
		
		visible = {
			check_variable = {
				extra_show > 0
			}
		}
		
		
		effects = {
			exitbutton_extraoptions_click = {
				set_variable = { extra_show = 0 }
			}
			
			defcon_5_unactive_click = {
				if = {
					limit = {
						has_political_power > 149
						has_war = no
					}
					add_ideas = DEFCON5
					add_political_power = -150
					DEFCON_switch = yes
				}
			}
			
			defcon_4_unactive_click = {
				if = {
					limit = {
						has_political_power > 149
						has_war = no
						threat > 0.09
					}
					add_ideas = DEFCON4
					add_political_power = -150
					DEFCON_switch = yes
				}
			}
			
			defcon_3_unactive_click = {
				if = {
					limit = {
						has_political_power > 149
						has_war = yes
						threat > 0.49
					}
					add_ideas = DEFCON3
					add_political_power = -150
					DEFCON_switch = yes
				}
			}
			
			defcon_2_unactive_click = {
				if = {
					limit = {
						has_political_power > 149
						has_war = yes
						threat > 0.79
					}
					add_ideas = DEFCON2
					add_political_power = -150
					DEFCON_switch = yes
				}
			}
			
			defcon_1_unactive_click = {
				if = {
					limit = {
						has_political_power > 149
						has_war = yes
						threat > 0.90
					}
					add_ideas = DEFCON1
					add_political_power = -150
					DEFCON_switch = yes
				}
			}
		}
		
		triggers = {
			defcon_1_visible = {
				has_idea = DEFCON1
			}
			defcon_1_unactive_visible = {
				NOT = {
					has_idea = DEFCON1
				}
			}
			
			defcon_2_visible = {
				has_idea = DEFCON2
			}
			defcon_2_unactive_visible = {
				NOT = {
					has_idea = DEFCON2
				}
			}
			
			defcon_3_visible = {
				has_idea = DEFCON3
			}
			defcon_3_unactive_visible = {
				NOT = {
					has_idea = DEFCON3
				}
			}
			
			defcon_4_visible = {
				has_idea = DEFCON4
			}
			defcon_4_unactive_visible = {
				NOT = {
					has_idea = DEFCON4
				}
			}
			
			defcon_1_visible = {
				has_idea = DEFCON1
			}
			defcon_1_unactive_visible = {
				NOT = {
					has_idea = DEFCON1
				}
			}
			
			defcon_5_visible = {
				has_idea = DEFCON5
			}
			defcon_5_unactive_visible = {
				NOT = {
					has_idea = DEFCON5
				}
			}
		}
		
	}
}
