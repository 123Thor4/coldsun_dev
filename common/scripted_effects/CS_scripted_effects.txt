DEFCON_switch = {
	if = {
		limit = { has_idea = DEFCON5 }
		remove_ideas = DEFCON5
	}
	if = {
		limit = { has_idea = DEFCON4 }
		remove_ideas = DEFCON4
	}
	if = {
		limit = { has_idea = DEFCON3 }
		remove_ideas = DEFCON3
	}
	if = {
		limit = { has_idea = DEFCON2 }
		remove_ideas = DEFCON2
	}
	if = {
		limit = { has_idea = DEFCON1 }
		remove_ideas = DEFCON1
	}
}




raise_economy_law = {
	if = {
		limit = {
			has_idea = isolation
		}
		add_ideas = civilian_economy
	}
	else_if = {
		limit = {
			has_idea = civilian_economy
		}
		add_ideas = low_economic_mobilisation
	}
	else_if = {
		limit = {
			has_idea = low_economic_mobilisation
		}
		add_ideas = partial_economic_mobilisation
	}
	else_if = {
		limit = {
			has_idea = partial_economic_mobilisation
		}
		add_ideas = war_economy
	}
	else_if = {
		limit = {
			has_idea = war_economy
		}
		add_ideas = tot_economic_mobilisation
	}
}

lower_economy_law = {
	if = {
		limit = {
			has_idea = tot_economic_mobilisation
		}
		add_ideas = war_economy
	}
	else_if = {
		limit = {
			has_idea = war_economy
		}
		add_ideas = partial_economic_mobilisation
	}
	else_if = {
		limit = {
			has_idea = partial_economic_mobilisation
		}
		add_ideas = low_economic_mobilisation
	}
	else_if = {
		limit = {
			has_idea = low_economic_mobilisation
		}
		add_ideas = civilian_economy
	}
	else_if = {
		limit = {
			has_idea = civilian_economy
		}
		add_ideas = isolation
	}
}





raise_manpower_law = {
	if = {
		limit = {
			has_idea = volunteer_only
		}
		add_ideas = limited_conscription
	}
	else_if = {
		limit = {
			has_idea = limited_conscription
		}
		add_ideas = extensive_conscription
	}
	else_if = {
		limit = {
			has_idea = extensive_conscription
		}
		add_ideas = service_by_requirement
	}
	else_if = {
		limit = {
			has_idea = service_by_requirement
		}
		add_ideas = all_adults_serve
	}
	else_if = {
		limit = {
			has_idea = all_adults_serve
		}
		add_ideas = scraping_the_barrel
	}
}


lower_manpower_law = {
	if = {
		limit = {
			has_idea = scraping_the_barrel
		}
		add_ideas = all_adults_serve
	}
	else_if = {
		limit = {
			has_idea = all_adults_serve
		}
		add_ideas = service_by_requirement
	}
	else_if = {
		limit = {
			has_idea = service_by_requirement
		}
		add_ideas = extensive_conscription
	}
	else_if = {
		limit = {
			has_idea = extensive_conscription
		}
		add_ideas = limited_conscription
	}
	else_if = {
		limit = {
			has_idea = limited_conscription
		}
		add_ideas = volunteer_only
	}
}




parliament_check_econ = {
	set_variable = { yes = 0 }
	if = {
		limit = { has_war = yes }
				
		if = {
			limit = { num_of_military_factories < 11 }
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 10 
				 num_of_military_factories < 16 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 15 
				 num_of_military_factories < 21 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 20 
				 num_of_military_factories < 26 
			}
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { num_of_military_factories > 25 }
			add_to_variable = { yes = 6 }
		}
				
		num_of_civilian_factories
		##
		if = {
			limit = { num_of_civilian_factories < 11 }
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 10 
				 num_of_civilian_factories < 16 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 15 
				 num_of_civilian_factories < 21 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 20 
				 num_of_civilian_factories < 26 
			}
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { num_of_civilian_factories > 25 }
			add_to_variable = { yes = 6 }
		}
				
		##
		if = {
			limit = { num_divisions < 21 }
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { 
				num_divisions > 20 
				num_divisions < 41 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = { 
				num_divisions > 40 
				num_divisions < 61 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = { 
				num_divisions > 60 
				num_divisions < 81 
			}
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = { 
				num_divisions > 80 
				num_divisions < 101 
			}
			add_to_variable = { yes = 1 }
		}
				
		if = {
			limit = { 
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio < 0.8
				} 
			}
			add_to_variable = { yes = 2 }
		}
	}
	
	
	
	if = {
		limit = { has_war = yes }
				
		if = {
			limit = { num_of_military_factories < 11 }
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 10 
				 num_of_military_factories < 16 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 15 
				 num_of_military_factories < 21 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = {
				 num_of_military_factories > 20 
				 num_of_military_factories < 26 
			}
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { num_of_military_factories > 25 }
			add_to_variable = { yes = 6 }
		}
				
		num_of_civilian_factories
		##
		if = {
			limit = { num_of_civilian_factories < 11 }
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 10 
				 num_of_civilian_factories < 16 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 15 
				 num_of_civilian_factories < 21 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = {
				 num_of_civilian_factories > 20 
				 num_of_civilian_factories < 26 
			}
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { num_of_civilian_factories > 25 }
			add_to_variable = { yes = 6 }
		}
				
		##
		if = {
			limit = { num_divisions < 21 }
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { 
				num_divisions > 20 
				num_divisions < 41 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = { 
				num_divisions > 40 
				num_divisions < 61 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = { 
				num_divisions > 60 
				num_divisions < 81 
			}
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = { 
				num_divisions > 80 
				num_divisions < 101 
			}
			add_to_variable = { yes = 1 }
		}
				
		if = {
			limit = { 
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio < 0.8
				} 
			}
			add_to_variable = { yes = 2 }
		}
	}
}


parliament_check_mob = {
	if = {
		limit = { has_war = yes }
		if = {
			limit = { num_divisions < 21 }
			add_to_variable = { yes = 5 }
		}
		else_if = {
			limit = { 
				num_divisions > 20 
				num_divisions < 41 
			}
			add_to_variable = { yes = 4 }
		}
		else_if = {
			limit = { 
				num_divisions > 40 
				num_divisions < 61 
			}
			add_to_variable = { yes = 3 }
		}
		else_if = {
			limit = { 
				num_divisions > 60 
				num_divisions < 81 
			}
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = { 
				num_divisions > 80 
				num_divisions < 101 
			}
			add_to_variable = { yes = 1 }
		}
				
		if = {
			limit = { 
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio < 0.8
				} 
			}
			add_to_variable = { yes = 2 }
		}
		else_if = {
			limit = { 
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio < 0.1
				} 
			}
			add_to_variable = { yes = 2 }
		}
	}
}